import{T as oe,I as we,ax as le,Q as q,H as x,a9 as ge,J as Se,g as Z,m as be,M as me,N as Ee,O as ee,R as F,_ as C,ay as ke,az as Te,U as $,X as Ae,aA as M,aB as N,V as Be,aC as re,a0 as Ie,C as te,aD as fe,ag as _e,Y as ue,Z as xe,aE as De,aF as U,aG as Pe,aa as ce,aH as Ce,aI as Oe,aJ as ye,aK as Me,aL as Ne,v as Re,aM as z}from"./BLYvR1oD.js";function Qe(r,a){return a}function Le(r,a,e){for(var t=r.items,s=[],o=a.length,n=0;n<o;n++)ye(a[n].e,s,!0);var i=o>0&&s.length===0&&e!==null;if(i){var w=e.parentNode;Me(w),w.append(e),t.clear(),A(r,a[0].prev,a[o-1].next)}Ne(s,()=>{for(var h=0;h<o;h++){var v=a[h];i||(t.delete(v.k),A(r,v.prev,v.next)),ce(v.e,!i)}})}function Ze(r,a,e,t,s,o=null){var n=r,i={flags:a,items:new Map,first:null},w=(a&le)!==0;if(w){var h=r;n=x?q(ge(h)):h.appendChild(oe())}x&&Se();var v=null,g=!1,p=new Map,B=be(()=>{var S=e();return _e(S)?S:S==null?[]:fe(S)}),f,d;function c(){He(d,f,i,p,n,s,a,t,e),o!==null&&(f.length===0?v?ue(v):v=$(()=>o(n)):v!==null&&xe(v,()=>{v=null}))}we(()=>{d??(d=Re),f=Z(B);var S=f.length;if(g&&S===0)return;g=S===0;let E=!1;if(x){var k=me(n)===Ee;k!==(S===0)&&(n=ee(),q(n),F(!1),E=!0)}if(x){for(var I=null,b,l=0;l<S;l++){if(C.nodeType===ke&&C.data===Te){n=C,E=!0,F(!1);break}var u=f[l],m=t(u,l);b=j(C,i,I,null,u,m,l,s,a,e),i.items.set(m,b),I=b}S>0&&q(ee())}if(x)S===0&&o&&(v=$(()=>o(n)));else if(Ae()){var D=new Set,O=Be;for(l=0;l<S;l+=1){u=f[l],m=t(u,l);var _=i.items.get(m)??p.get(m);_?(a&(M|N))!==0&&de(_,u,l,a):(b=j(null,i,null,null,u,m,l,s,a,e,!0),p.set(m,b)),D.add(m)}for(const[T,y]of i.items)D.has(T)||O.skipped_effects.add(y.e);O.add_callback(c)}else c();E&&F(!0),Z(B)}),x&&(n=C)}function He(r,a,e,t,s,o,n,i,w){var Y,X,G,K;var h=(n&Ce)!==0,v=(n&(M|N))!==0,g=a.length,p=e.items,B=e.first,f=B,d,c=null,S,E=[],k=[],I,b,l,u;if(h)for(u=0;u<g;u+=1)I=a[u],b=i(I,u),l=p.get(b),l!==void 0&&((Y=l.a)==null||Y.measure(),(S??(S=new Set)).add(l));for(u=0;u<g;u+=1){if(I=a[u],b=i(I,u),l=p.get(b),l===void 0){var m=t.get(b);if(m!==void 0){t.delete(b),p.set(b,m);var D=c?c.next:f;A(e,c,m),A(e,m,D),V(m,D,s),c=m}else{var O=f?f.e.nodes_start:s;c=j(O,e,c,c===null?e.first:c.next,I,b,u,o,n,w)}p.set(b,c),E=[],k=[],f=c.next;continue}if(v&&de(l,I,u,n),(l.e.f&U)!==0&&(ue(l.e),h&&((X=l.a)==null||X.unfix(),(S??(S=new Set)).delete(l))),l!==f){if(d!==void 0&&d.has(l)){if(E.length<k.length){var _=k[0],T;c=_.prev;var y=E[0],L=E[E.length-1];for(T=0;T<E.length;T+=1)V(E[T],_,s);for(T=0;T<k.length;T+=1)d.delete(k[T]);A(e,y.prev,L.next),A(e,c,y),A(e,L,_),f=_,c=L,u-=1,E=[],k=[]}else d.delete(l),V(l,f,s),A(e,l.prev,l.next),A(e,l,c===null?e.first:c.next),A(e,c,l),c=l;continue}for(E=[],k=[];f!==null&&f.k!==b;)(f.e.f&U)===0&&(d??(d=new Set)).add(f),k.push(f),f=f.next;if(f===null)continue;l=f}E.push(l),c=l,f=l.next}if(f!==null||d!==void 0){for(var P=d===void 0?[]:fe(d);f!==null;)(f.e.f&U)===0&&P.push(f),f=f.next;var H=P.length;if(H>0){var pe=(n&le)!==0&&g===0?s:null;if(h){for(u=0;u<H;u+=1)(G=P[u].a)==null||G.measure();for(u=0;u<H;u+=1)(K=P[u].a)==null||K.fix()}Le(e,P,pe)}}h&&Pe(()=>{var Q;if(S!==void 0)for(l of S)(Q=l.a)==null||Q.apply()}),r.first=e.first&&e.first.e,r.last=c&&c.e;for(var he of t.values())ce(he.e);t.clear()}function de(r,a,e,t){(t&M)!==0&&re(r.v,a),(t&N)!==0?re(r.i,e):r.i=e}function j(r,a,e,t,s,o,n,i,w,h,v){var g=(w&M)!==0,p=(w&De)===0,B=g?p?Ie(s,!1,!1):te(s):s,f=(w&N)===0?n:te(n),d={i:f,v:B,k:o,a:null,e:null,prev:e,next:t};try{if(r===null){var c=document.createDocumentFragment();c.append(r=oe())}return d.e=$(()=>i(r,B,f,h),x),d.e.prev=e&&e.e,d.e.next=t&&t.e,e===null?v||(a.first=d):(e.next=d,e.e.next=d.e),t!==null&&(t.prev=d,t.e.prev=d.e),d}finally{}}function V(r,a,e){for(var t=r.next?r.next.e.nodes_start:e,s=a?a.e.nodes_start:e,o=r.e.nodes_start;o!==null&&o!==t;){var n=Oe(o);s.before(o),o=n}}function A(r,a,e){a===null?r.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function ve(r){var a,e,t="";if(typeof r=="string"||typeof r=="number")t+=r;else if(typeof r=="object")if(Array.isArray(r)){var s=r.length;for(a=0;a<s;a++)r[a]&&(e=ve(r[a]))&&(t&&(t+=" "),t+=e)}else for(e in r)r[e]&&(t&&(t+=" "),t+=e);return t}function qe(){for(var r,a,e=0,t="",s=arguments.length;e<s;e++)(r=arguments[e])&&(a=ve(r))&&(t&&(t+=" "),t+=a);return t}function er(r){return typeof r=="object"?qe(r):r??""}const ae=[...` 	
\r\fÂ \v\uFEFF`];function rr(r,a,e){var t=r==null?"":""+r;if(e){for(var s in e)if(e[s])t=t?t+" "+s:s;else if(t.length)for(var o=s.length,n=0;(n=t.indexOf(s,n))>=0;){var i=n+o;(n===0||ae.includes(t[n-1]))&&(i===t.length||ae.includes(t[i]))?t=(n===0?"":t.substring(0,n))+t.substring(i+1):n=i}}return t===""?null:t}function ne(r,a=!1){var e=a?" !important;":";",t="";for(var s in r){var o=r[s];o!=null&&o!==""&&(t+=" "+s+": "+o+e)}return t}function J(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function tr(r,a){if(a){var e="",t,s;if(Array.isArray(a)?(t=a[0],s=a[1]):t=a,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,n=0,i=!1,w=[];t&&w.push(...Object.keys(t).map(J)),s&&w.push(...Object.keys(s).map(J));var h=0,v=-1;const d=r.length;for(var g=0;g<d;g++){var p=r[g];if(i?p==="/"&&r[g-1]==="*"&&(i=!1):o?o===p&&(o=!1):p==="/"&&r[g+1]==="*"?i=!0:p==='"'||p==="'"?o=p:p==="("?n++:p===")"&&n--,!i&&o===!1&&n===0){if(p===":"&&v===-1)v=g;else if(p===";"||g===d-1){if(v!==-1){var B=J(r.substring(h,v).trim());if(!w.includes(B)){p!==";"&&g++;var f=r.substring(h,g).trim();e+=" "+f+";"}}h=g+1,v=-1}}}}return t&&(e+=ne(t)),s&&(e+=ne(s,!0)),e=e.trim(),e===""?null:e}return r==null?null:String(r)}const Fe="UnbrokenTracker",Ue=1,W=()=>new Promise((r,a)=>{const e=indexedDB.open(Fe,Ue);e.onerror=()=>a(e.error),e.onsuccess=()=>r(e.result),e.onupgradeneeded=t=>{const s=t.target.result;["workoutState","trainingPlanState","exerciseState","preferencesState"].forEach(n=>{if(!s.objectStoreNames.contains(n))try{s.createObjectStore(n)}catch(i){console.warn(`Failed to create object store ${n}:`,i)}})}}),se=async(r,a)=>{try{const e=await W(),s=e.transaction([r],"readwrite").objectStore(r),o=JSON.parse(JSON.stringify(a));await new Promise((n,i)=>{const w=s.put(o,"data");w.onsuccess=()=>n(),w.onerror=()=>i(w.error)}),e.close()}catch(e){console.warn(`Failed to save ${r} to IndexedDB:`,e)}},Ve=async r=>{try{const a=await W(),t=a.transaction([r],"readonly").objectStore(r),s=await new Promise((o,n)=>{const i=t.get("data");i.onsuccess=()=>o(i.result||null),i.onerror=()=>n(i.error)});return a.close(),s}catch(a){return console.warn(`Failed to load ${r} from IndexedDB:`,a),null}},Je=z(!1);let ie=0;const $e=4,je=()=>{ie++,ie>=$e&&Je.set(!0)},R=(r,a,e=()=>!0)=>{const{subscribe:t,set:s,update:o}=z(a);let n=!1;return Ve(r).then(i=>{i&&s(i),n=!0,je()}),{subscribe:t,set:i=>{s(i),n&&e(i)&&se(r,i)},update:i=>{o(w=>{const h=i(w);return n&&e(h)&&se(r,h),h})}}},ze={activeTab:"overview",showResetConfirm:!1,restTimer:{isActive:!1,timeLeft:0,totalTime:0,workoutType:null,phase:"initial",startTime:0},lissTimer:{isActive:!1,isPaused:!1,timeLeft:0,totalTime:0,startTime:0,pausedTime:0}},ar=z(ze),We={currentWeek:1,currentDay:1,completedWorkouts:[],completedSets:{}},nr=R("workoutState",We),Ye={customPlan:[{name:"Endurance Block 1",weeks:8,type:"endurance1"},{name:"Powerbuilding Block 1",weeks:3,type:"powerbuilding1"},{name:"Powerbuilding Block 2",weeks:3,type:"powerbuilding2"},{name:"Powerbuilding Block 3",weeks:3,type:"powerbuilding3"},{name:"Bodybuilding Block",weeks:3,type:"bodybuilding"},{name:"Bodybuilding Block",weeks:3,type:"bodybuilding"},{name:"Bodybuilding Block",weeks:3,type:"bodybuilding"},{name:"Powerbuilding Block 3 - Bulgarian",weeks:3,type:"powerbuilding3bulgarian"},{name:"Strength Block",weeks:6,type:"strength"},{name:"Endurance Block 1",weeks:8,type:"endurance1"}]},sr=R("trainingPlanState",Ye),Xe={maxes:{benchpress:100,squat:120,deadlift:140,trapbardeadlift:130,overheadpress:60,frontsquat:90,weightedpullup:20,powerclean:80,romaniandeadlift:120},tenRMs:{}},ir=R("exerciseState",Xe),Ge={weightUnit:"kg"},or=R("preferencesState",Ge),lr=async()=>{try{const r=await W(),a=["workoutState","trainingPlanState","exerciseState","preferencesState"];for(const e of a){const s=r.transaction([e],"readwrite").objectStore(e);await new Promise((o,n)=>{const i=s.clear();i.onsuccess=()=>o(),i.onerror=()=>n(i.error)})}r.close()}catch(r){console.warn("Failed to clear storage:",r)}};export{rr as a,tr as b,Je as c,ir as d,Ze as e,lr as f,er as g,Qe as i,or as p,sr as t,ar as u,nr as w};
